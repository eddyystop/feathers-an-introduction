
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Finishing the server Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="user-mgnt.html" />
    
    
    <link rel="prev" href="start-front-end.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../step-by-step/readme.html">
            
                <a href="../../step-by-step/readme.html">
            
                    
                    Step by step intro to basic Feathers >>
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../step-by-step/intro/readme.html">
            
                <a href="../../step-by-step/intro/readme.html">
            
                    
                    Introduction >>
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1.1" data-path="../../step-by-step/intro/not-worry.html">
            
                <a href="../../step-by-step/intro/not-worry.html">
            
                    
                    What not to worry about
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../step-by-step/basic-feathers/readme.html">
            
                <a href="../../step-by-step/basic-feathers/readme.html">
            
                    
                    Basic Feathers >>
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../../step-by-step/basic-feathers/database-connector.html">
            
                <a href="../../step-by-step/basic-feathers/database-connector.html">
            
                    
                    A database connector
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../../step-by-step/basic-feathers/rest-api-server.html">
            
                <a href="../../step-by-step/basic-feathers/rest-api-server.html">
            
                    
                    A REST API server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.3" data-path="../../step-by-step/basic-feathers/rest-client.html">
            
                <a href="../../step-by-step/basic-feathers/rest-client.html">
            
                    
                    A Feathers REST client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.4" data-path="../../step-by-step/basic-feathers/socket-client.html">
            
                <a href="../../step-by-step/basic-feathers/socket-client.html">
            
                    
                    A Feathers websocket client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.5" data-path="../../step-by-step/basic-feathers/ah-ha.html">
            
                <a href="../../step-by-step/basic-feathers/ah-ha.html">
            
                    
                    The "ah-ha" moment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.6" data-path="../../step-by-step/basic-feathers/hooks-1.html">
            
                <a href="../../step-by-step/basic-feathers/hooks-1.html">
            
                    
                    Hooks, part 1
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.7" data-path="../../step-by-step/basic-feathers/hooks-2.html">
            
                <a href="../../step-by-step/basic-feathers/hooks-2.html">
            
                    
                    Hooks, part 2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.8" data-path="../../step-by-step/basic-feathers/real-time.html">
            
                <a href="../../step-by-step/basic-feathers/real-time.html">
            
                    
                    Real-time
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../step-by-step/generators/readme.html">
            
                <a href="../../step-by-step/generators/readme.html">
            
                    
                    Generators >>
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.3.1" data-path="../../step-by-step/generators/app.html">
            
                <a href="../../step-by-step/generators/app.html">
            
                    
                    Generating an app
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3.2" data-path="../../step-by-step/generators/service.html">
            
                <a href="../../step-by-step/generators/service.html">
            
                    
                    Adding a service
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../step-by-step/what-next.html">
            
                <a href="../../step-by-step/what-next.html">
            
                    
                    What's next?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../step-by-step/production-ready.html">
            
                <a href="../../step-by-step/production-ready.html">
            
                    
                    Is Feathers production ready?
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../step-by-step/appendix/readme.html">
            
                <a href="../../step-by-step/appendix/readme.html">
            
                    
                    Appendix >>
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.6.1" data-path="../../step-by-step/appendix/what-is-this.html">
            
                <a href="../../step-by-step/appendix/what-is-this.html">
            
                    
                    What is 'this'?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../readme.html">
            
                <a href="../readme.html">
            
                    
                    Writing a chat room app >>
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="readme.html">
            
                <a href="readme.html">
            
                    
                    Server >>
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="start-server.html">
            
                <a href="start-server.html">
            
                    
                    Starting the server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="start-front-end.html">
            
                <a href="start-front-end.html">
            
                    
                    Starting the front-end
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.1.3" data-path="finish-server.html">
            
                <a href="finish-server.html">
            
                    
                    Finishing the server
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.4" data-path="user-mgnt.html">
            
                <a href="user-mgnt.html">
            
                    
                    User management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../client/readme.html">
            
                <a href="../client/readme.html">
            
                    
                    Client >>
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../client/jQuery.html">
            
                <a href="../client/jQuery.html">
            
                    
                    jQuery client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../client/oauth.html">
            
                <a href="../client/oauth.html">
            
                    
                    OAuth jQuery client
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../client/other-clients.html">
            
                <a href="../client/other-clients.html">
            
                    
                    Clients for other frameworks
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../what-next.html">
            
                <a href="../what-next.html">
            
                    
                    What's next?
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../../adapters/readme.html">
            
                <a href="../../adapters/readme.html">
            
                    
                    Adapters >>
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.4.1" data-path="../../adapters/redux-services/readme.html">
            
                <a href="../../adapters/redux-services/readme.html">
            
                    
                    Redux for Feathers services >>
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4.2" data-path="../../adapters/redux-auth/readme.html">
            
                <a href="../../adapters/redux-auth/readme.html">
            
                    
                    Redux for Feathers authentication >>
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Finishing the server</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="finishing-the-server">Finishing the server</h1>
<p>We implemented a basic client in the previous section which allows us to exercise the server.
Let&apos;s complete that server now.</p>
<h2 id="working-example">Working example</h2>
<p>| Source code: <a href="https://github.com/eddyystop/feathers-an-introduction/tree/master/examples/chat/server/c" target="_blank">https://github.com/eddyystop/feathers-an-introduction/tree/master/examples/chat/server/c</a></p>
<p>| Client HTML code: <a href="https://github.com/eddyystop/feathers-an-introduction/blob/master/examples/chat/server/c/public/socketio.html" target="_blank">https://github.com/eddyystop/feathers-an-introduction/blob/master/examples/chat/server/c/public/socketio.html</a></p>
<p>| Client source code: <a href="https://github.com/eddyystop/feathers-an-introduction/blob/master/examples/chat/server/c/public/socketio-app.js" target="_blank">https://github.com/eddyystop/feathers-an-introduction/blob/master/examples/chat/server/c/public/socketio-app.js</a></p>
<p>| Start the server: <code>node ./examples/chat/server/c/src</code></p>
<p>| Point the browser at: <code>//localhost:3030/socketio.html</code></p>
<h2 id="completing-the-server-requirements">Completing the server requirements</h2>
<p>We&apos;ll now complete the remaining server requirements we
<a href="readme.html">itemized</a> when we started. They are:</p>
<ul>
<li>messages<ul>
<li>Restrict message posting to signed-in users.</li>
<li>Sanitize the messages, e.g. basic HTML escaping.</li>
<li>Identify which user created a message and at what time.</li>
<li>Allow users to only modify and delete their own messages.</li>
</ul>
</li>
</ul>
<h2 id="add-authentication">Add authentication</h2>
<p>We could have added authentication to messages back when we
<a href="start-server.html#basic-scaffolding">created the service</a>.
However this now gives us a chance to manually add the authentication hooks to all methods.</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// src/services/message/hooks/index.js</span>
exports.before = {
  all: [
    auth.verifyToken(),
    auth.populateUser(),
    auth.restrictToAuthenticated()
  ],
  <span class="hljs-comment">/// ...</span>
};
</code></pre>
<ul>
<li><code>auth.verifyToken</code> throws if the JSON Token is badly formed.</li>
<li><code>auth.populateUser</code> copies the client&apos;s user item to <code>hook.params.user</code>.</li>
<li><code>restrictToAuthenticated</code> throws if the user is not already authenticated.</li>
</ul>
<h2 id="add-authorization">Add authorization</h2>
<p>We need a hook which ensures users can only remove, update and patch their own messages. </p>
<pre><code class="lang-text">mkdir examples/chat/server/c
cd examples/chat/server/c
</code></pre>
<p><img src="assets/generate-hook-restrict.jpg" alt="generate message hook restrict"></p>
<p>Then copy the following hook:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// src/services/message/hooks/restrict-to-sender.js</span>
<span class="hljs-keyword">const</span> errors = <span class="hljs-built_in">require</span>(<span class="hljs-string">&apos;feathers-errors&apos;</span>);

<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">options</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">hook</span>) </span>{
    <span class="hljs-keyword">const</span> messageService = hook.app.service(<span class="hljs-string">&apos;messages&apos;</span>);

    <span class="hljs-comment">// First get the message that the user wants to access</span>
    <span class="hljs-keyword">return</span> messageService.get(hook.id, hook.params).then(message =&gt; {
      <span class="hljs-comment">// Throw a not authenticated error if the message and user id don&apos;t match</span>
      <span class="hljs-keyword">if</span> (message.sentBy._id !== hook.params.user._id &amp;&amp; hook.provider) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> errors.NotAuthenticated(<span class="hljs-string">&apos;Access not allowed&apos;</span>);
      }

      <span class="hljs-comment">// Otherwise just return the hook</span>
      <span class="hljs-keyword">return</span> hook;
    });
  };
};
</code></pre>
<ul>
<li><code>hook.app</code> - Hooks conveniently get the <code>app</code> object.</li>
<li><code>hook.app.service()</code> - With <code>app</code>, hooks can get a handle to any service.</li>
<li>The update, patch and remove service calls do not necessarily provide us
with the data we know who created the message.
Therefore we first read the message.</li>
</ul>
<blockquote>
<p><strong>hook.params.</strong> 
Using <code>hook.params</code> in a method call is a technique worth remembering.
Here we <code>get</code> the message item using the same context as the update, patch or remove call.
If the original call was made from, say, a Socketio client,
we <code>get</code> the message looking like a Socketio client.
This way all message hooks will treat the <code>get</code> properly for that context.</p>
<p><strong>Feathers errors.</strong> Feathers
<a href="https://docs.feathersjs.com/v/auk/middleware/error-handling.html" target="_blank">handles errors</a>
cleanly.
One of the things it does is return a <code>className</code> on the <code>error</code> object
which indicates the type of error which occurred.
That lets you check error types without resorting to the risky alternative
of comparing to <code>error.message</code>.
In this case, <code>className</code> will be <code>notAuthenticated</code>.</p>
</blockquote>
<h2 id="processing-messages">Processing messages</h2>
<p>Let&apos;s create a hook with which to complete message processing.
<img src="assets/generate-hook-message-process.jpg" alt="generate message hook process"></p>
<p>Then copy the hook:</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// src/services/message/hooks/process.js</span>
<span class="hljs-built_in">module</span>.exports = () =&gt; hook =&gt; {
  hook.data.text = hook.data.text
    .substring(<span class="hljs-number">0</span>, <span class="hljs-number">400</span>) <span class="hljs-comment">// Messages can&apos;t be longer than 400 characters</span>
    .replace(<span class="hljs-regexp">/&amp;/g</span>,<span class="hljs-string">&apos;&amp;amp;&apos;</span>).replace(<span class="hljs-regexp">/&lt;/g</span>,<span class="hljs-string">&apos;&amp;lt;&apos;</span>).replace(<span class="hljs-regexp">/&gt;/g</span>,<span class="hljs-string">&apos;&amp;gt;&apos;</span>); <span class="hljs-comment">// Do basic HTML escaping</span>
  hook.data.userId = hook.params.user._id; <span class="hljs-comment">// Add the authenticated user _id</span>

  <span class="hljs-keyword">return</span> hook;
};
</code></pre>
<ul>
<li><code>hook.params.user</code> contains the authenticated user item from <code>auth.populateUser()</code>.</li>
<li><code>hook.data</code> contains the message item.</li>
<li>The <code>hook.data.userId</code> field is added, being set to the user&apos;s id.</li>
<li>The message text in <code>hook.data.text</code> is sanitized.</li>
<li>The <code>hook</code>, now with modified data, is returned.</li>
</ul>
<h2 id="adding-createdat">Adding createdAt</h2>
<pre><code class="lang-javascript"><span class="hljs-comment">// src/services/message/hooks/index</span>
exports.before = {
  create: [ process(), setCreatedAt() ],
}
</code></pre>
<ul>
<li>The <code>setCreatedAt</code> hook adds the <code>createdAt</code> property.</li>
</ul>
<h2 id="populating-and-serializing-messages">Populating and serializing messages</h2>
<p>We want to add the creating user&apos;s item to the message item
before the message is sent to any clients listening for messages.</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// src/services/message/hooks/index</span>
<span class="hljs-keyword">const</span> populateSchema = {
  include: [{
    service: <span class="hljs-string">&apos;users&apos;</span>,
    nameAs: <span class="hljs-string">&apos;sentBy&apos;</span>,
    parentField: <span class="hljs-string">&apos;userId&apos;</span>,
    childField: <span class="hljs-string">&apos;_id&apos;</span>
  }]
};
<span class="hljs-keyword">const</span> serializeSchema = {
  only: [ <span class="hljs-string">&apos;_id&apos;</span>, <span class="hljs-string">&apos;text&apos;</span>, <span class="hljs-string">&apos;createdAt&apos;</span> ],
  sentBy: {
    only: [ <span class="hljs-string">&apos;email&apos;</span>, <span class="hljs-string">&apos;avatar&apos;</span> ]
  }
};

exports.after = {
  find: [ populate({ schema: populateSchema }), serialize(serializeSchema) ],
  get: [ populate({ schema: populateSchema }), serialize(serializeSchema) ],
  create: [ populate({ schema: populateSchema }), serialize(serializeSchema) ],
}
<span class="hljs-string">`
</span></code></pre>
<ul>
<li>The <a href="https://docs.feathersjs.com/v/auk/hooks/common/populate.html#populate" target="_blank"><code>populate</code></a> hook
can recursively join child items to parents.</li>
<li>The <code>populateSchema</code> joins users those items to the message
where <code>user._Id</code> equals <code>message.userId</code>.
Such items are saved in the <code>sentBy</code> property.</li>
<li>The <a href="https://docs.feathersjs.com/v/auk/hooks/common/populate.html#serialize" target="_blank"><code>serialize</code></a> hook
removes values which are needed at that time.</li>
<li>The <code>serializeSchema</code> retains <code>_id</code>, <code>text</code>, <code>createdAt</code> from the message item,
and <code>email</code>, <code>avatar</code> from the joined user item.</li>
<li>The populate and serialize occur for the find, get and update methods.</li>
</ul>
<p>We won&apos;t want to include the joined user item
should the client decide to change the message and patch the item in the database.</p>
<pre><code class="lang-javascript"><span class="hljs-comment">// src/services/message/hooks/index</span>
exports.before = {
  update: [ dePopulate(), restrictToSender() ],
  patch: [ dePopulate(), restrictToSender() ],
};
</code></pre>
<ul>
<li>The <a href="https://docs.feathersjs.com/v/auk/hooks/common/populate.html#depopulate" target="_blank"><code>dePopulate</code></a> hook
removes all joined iitem from a base record.</li>
<li>We preform it before running the update and patch methods.</li>
</ul>
<h2 id="running-different-hooks-for-server-calls-than-for-client-ones">Running different hooks for server calls than for client ones</h2>
<p>You won&apos;t always want the same hooks to be executed.
You may, for example, remove some properties before handing results to a client
because of security considerations.
However you usually won&apos;t have these security issues if the service call is
being made on the server.</p>
<blockquote>
<p><strong>Conditional hooks.</strong> Feathers</p>
<p><strong>Different hooks for different folks.</strong>
You should develop the habit of reviewing which hooks you want to run
for the client, then which you want to run for the server.
This habit will save you having to track down unexpected behaviors.</p>
</blockquote>
<p>We want a client to be able to only remove its own user&apos;s messages,
but we must allow the server to remove them all
as we erase the databases in <code>src/app.js</code> before we start the server.</p>
<pre><code class="lang-javascript"><span class="hljs-keyword">const</span> restrictToSenderOrServer = when(isProvider(<span class="hljs-string">&apos;external&apos;</span>), restrictToSender());

exports.before = {
  update: [ dePopulate(), restrictToSender() ],
  patch: [ dePopulate(), restrictToSender() ],
  remove: [ restrictToSenderOrServer ]
};
</code></pre>
<ul>
<li><code>isProvider(&apos;external&apos;)</code> is true if the service call was not made by the server.</li>
<li><code>restrictToSender()</code> is the hook we created above.
It throws if the user did not create the message.</li>
<li><code>when</code> runs <code>restrictToSender()</code> if the service call was not made by the server.</li>
<li><code>restrictToSenderOrServer</code> - As you can see, hooks are just functions
and they can be manipulated with code.</li>
</ul>
<h2 id="the-results">The results</h2>
<p>This completes the server.
Start it with <code>node ./examples/chat/server/c/src</code>.
It will display:</p>
<pre><code class="lang-text">feathers-an-introduction$ node ./examples/chat/server/c/src
Feathers application started on localhost:3030
users table cleared.
</code></pre>
<p>Point the browser at: <code>//localhost:3030/socketio.html</code>.</p>
<ul>
<li>Sign up page:<ul>
<li>Enter <code>ying@qq.cn</code> for the email.</li>
<li>Enter <code>ying123</code> for the password.</li>
<li>Click <code>Add user</code></li>
</ul>
</li>
<li>Sign in page:<ul>
<li>Enter <code>ying@qq.cn</code> for the email.</li>
<li>Enter <code>ying123</code> for the password.</li>
<li>Click <code>Sign in</code></li>
</ul>
</li>
<li>Chat page:<ul>
<li>Enter <code>&#x65B0;&#x5E74;&#x5FEB;&#x6A02;</code> (Happy New Year in Chinese) for the text.</li>
<li>Click <code>Send message</code>.</li>
</ul>
</li>
</ul>
<p>The console will display</p>
<pre><code class="lang-text">Users in chat
[&quot;ying@qq.cn&quot;]
message created
{ _id: &quot;Wvm38PB310eykSSB&quot;,
  _include: [&apos;sentBy&apos;],
  createdAt: &quot;2017-01-03T16:02:42.714Z&quot;
  sentBy: {
    avatar: &quot;https://s.gravatar.com/avatar/db67e5e4176f9c9aaf76e6bd17cf447d?s=60&quot;,
    email: &quot;ying@qq.cn&quot;
  },
  text: &quot;&#x65B0;&#x5E74;&#x5FEB;&#x6A02;&quot; }
</code></pre>
<ul>
<li><code>_include</code> is added by populate
and contains the property names of all joined items.
dePopulate uses it to remove the joined items.</li>
<li><code>createdAt</code> was added by the setCreatedAt hook.</li>
<li><code>sentBy</code> was added by populate and contains the joined user item.</li>
</ul>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="start-front-end.html" class="navigation navigation-prev " aria-label="Previous page: Starting the front-end">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="user-mgnt.html" class="navigation navigation-next " aria-label="Next page: User management">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Finishing the server","level":"1.3.1.3","depth":3,"next":{"title":"User management","level":"1.3.1.4","depth":3,"path":"chat/server/user-mgnt.md","ref":"chat/server/user-mgnt.md","articles":[]},"previous":{"title":"Starting the front-end","level":"1.3.1.2","depth":3,"path":"chat/server/start-front-end.md","ref":"chat/server/start-front-end.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":["feathers-collapsible-menu","heading-anchors","include-codeblock"],"pluginsConfig":{"search":{},"lunr":{"maxIndexSize":1000000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"heading-anchors":{},"highlight":{},"include-codeblock":{},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"feathers-collapsible-menu":{}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css"}},"file":{"path":"chat/server/finish-server.md","mtime":"2017-01-07T02:07:38.748Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-01-10T20:41:08.473Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-feathers-collapsible-menu/plugin.js"></script>
        
    
        
        <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/1.2.1/anchor.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-heading-anchors/anchor-style.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

